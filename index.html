<html lang='en'>
	<head>
		<title>Gary</title>

		<script src='js/breakable.js'></script>
		<script src='js/bullet.js'></script>
		<script src='js/crate.js'></script>
		<script src='js/eye.js'></script>
		<script src='js/gary.js'></script>
		<script src='js/hover.js'></script>
		<script src='js/level.js'></script>
		<script src='js/pendulum.js'></script>
		<script src='js/physics.js'></script>
		<script src='js/player.js'></script>
		<script src='js/ribeye.js'></script>
		<script src='js/simulation.js'></script>
		<script src='js/sprite.js'></script>
		<script src='js/tile_maker.js'></script>
		<script>

			var simulation=null;
			var tile_maker=new tile_maker_t('img/tiles.png',16,16);

			function init()
			{
				simulation=new simulation_t(document.getElementById('canvas'),setup,loop,draw);

				if(!simulation)
					alert('Is WebGL enabled?');
				else
					simulation.setup();
			}

			var level=null;

			function setup(simulation)
			{
				tile_maker.setup(simulation);
				level=new level_t(simulation);
			}

			function loop(dt)
			{
				tile_maker.loop(simulation,dt);
				level.loop(simulation,dt);

			}

			function draw()
			{
				level.draw(simulation);
				tile_maker.draw(simulation);
			}
		</script>
	</head>

	<body onload='init();'>
		<center>
			<canvas id='canvas' width='320px' height='240px' style='height:90%;border:1px solid #000000;'></canvas>
		</center>
	</body>
</html>
