<html lang='en'>
	<head>
		<title>Gary</title>

		<script src='breakable.js'></script>
		<script src='bullet.js'></script>
		<script src='crate.js'></script>
		<script src='eye.js'></script>
		<script src='gary.js'></script>
		<script src='hover.js'></script>
		<script src='level.js'></script>
		<script src='pendulum.js'></script>
		<script src='physics.js'></script>
		<script src='player.js'></script>
		<script src='ribeye.js'></script>
		<script src='simulation.js'></script>
		<script src='sprite.js'></script>
		<script src='tile_maker.js'></script>
		<script>

			var simulation=null;
			var tile_maker=new tile_maker_t('tiles.png',16,16);

			function init()
			{
				simulation=new simulation_t(document.getElementById('canvas'),setup,loop,draw);

				if(!simulation)
					alert('Is WebGL enabled?');
				else
					simulation.setup();
			}

			var level=null;

			function setup(simulation)
			{
				tile_maker.setup(simulation);
				level=new level_t(simulation);
			}

			function loop(dt)
			{
				tile_maker.loop(simulation,dt);
				level.loop(simulation,dt);

			}

			function draw()
			{
				level.draw(simulation);
				tile_maker.draw(simulation);
			}
		</script>
	</head>

	<body onload='init();'>
		<center>
			<canvas id='canvas' width='320px' height='240px' style='height:90%;border:1px solid #000000;'></canvas>
		</center>
	</body>
</html>
